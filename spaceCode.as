package {	import flash.display.MovieClip;	import flash.events.Event;	import flash.events.KeyboardEvent;	import flash.text.TextField;	import flash.text.TextFormat;	import flash.geom.ColorTransform;	import flash.events.MouseEvent;	import flash.media.Sound;	import flash.net.URLRequest;	public class spaceCode extends MovieClip	{		public function spaceCode()		{			//variables			var bg:back = new back  ;			var speed:Number = 0;			var aArray:Array = new Array  ;			var i:Number;			var j:Number;			var drop:Boolean = false;			var but:alien1 = new alien1  ;			// sound			var shotSound:Sound = new Sound  ;			var shot:URLRequest = new URLRequest("shot2.mp3");			var explosionSound:Sound = new Sound  ;			var explo:URLRequest = new URLRequest("explosion.mp3");			var bgSound:Sound = new Sound  ;			var bgmusic:URLRequest = new URLRequest("background.mp3");			// ship bullet and explosion			var s:ship = new ship  ;			var b:bullet = new bullet  ;			var e:explosion = new explosion  ;			var gunshotBL:Boolean = false;			var explosionBL:Boolean = false;			var speed:Number = 0;			var dir:String = "stop";			var score:Number = 0;			var t1:TextField = new TextField();			var tf1: TextFormat = new TextFormat();			var t2:TextField = new TextField();			var tf2: TextFormat = new TextFormat();			var t3:TextField = new TextField();			var tf3: TextFormat = new TextFormat();						var t4:TextField = new TextField();			var tf4: TextFormat = new TextFormat();						var t5:TextField = new TextField();			var tf5: TextFormat = new TextFormat();			// on load			addChild(bg);			bg.x = 275;			bg.y = 200;			bg.width = 600;			bg.height = 500;			addChild(t1);			t1.x = 430;			t1.y = 25;			t1.width = 200;			t1.text = String("Score "+String(score));			tf1.font = "Times New Roman";			tf1.size = 25;			tf1.bold = true;			tf1.color = 0xFFF000;			t1.setTextFormat(tf1);			addChild(t2);			t2.x = 240;			t2.y = 275;			t2.width = 200;			t2.text = "Start Game";			tf2.font = "Times New Roman";			tf2.size = 15;			tf2.bold = true;			tf2.color = 0xFFF000;			t2.setTextFormat(tf2);			addChild(but);			but.x = 275;			but.y = 300;			but.width = 20;			but.height = 20;			addChild(s);			s.x = 275;			s.y = 350;			s.height = 25;			s.width = 30;			addChild(b);			b.x = -500;			b.y = 200;			b.width = 5;			b.height = 20;			addChild(e);			e.width = 20;			e.height = 20;			e.x = -20;			shotSound.load(shot);			explosionSound.load(explo);			bgSound.load(bgmusic);			//events;			addEventListener(Event.ENTER_FRAME,mainFun);			function mainFun(e:Event)			{				movealiens();				moveShip(dir);				movegunshot();			}			stage.addEventListener(KeyboardEvent.KEY_UP,uFun);			function uFun(evt:KeyboardEvent)			{				stopFun(evt.keyCode);			}			stage.addEventListener(KeyboardEvent.KEY_DOWN,dFun);			function dFun(evt:KeyboardEvent)			{				keyFun(evt.keyCode);				shootBullet(evt.keyCode);			}			// functions 			makealiens();			but.addEventListener(MouseEvent.CLICK,beginGame);			function beginGame(e:MouseEvent):void			{				but.x +=  600;				positionAliens();				bgSound.play(0,10000);				t2.visible = false;				t3.x = -300;				t4.visible = false;				t5.visible = false;								// 			addChild(t1);			t1.x = 430;			t1.y = 25;			t1.width = 200;			t1.text = String("Score "+String(score));			tf1.font = "Times New Roman";			tf1.size = 25;			tf1.bold = true;			tf1.color = 0xFFF000;			t1.setTextFormat(tf1);			}			function movealiens():void			{				drop = false;				for (i = 0; i < aArray.length; i++)				{					aArray[i].x +=  speed;					if (aArray[i].x > 540 || aArray[i].x < 10)					{						drop = true;					}					if (aArray[i].y > 325)					{						gameover();					}				}				if ((drop == true))				{					speed *=  -1;					for (i = 0; i < aArray.length; i++)					{						aArray[i].y +=  30;					}				}			}			function positionAliens():void			{				speed = 2;				var num:Number = 0;				for (var j:Number = 0; j < 5; j++)				{					for (var i:Number = 0; i < 11; i++)					{						aArray[num].x = 30 * i + 15;						aArray[num].y = 30 * j + 15;						num++;					}				}			}			function moveShip(d:String):void			{				if (((d == "left") && s.x > s.height / 2))				{					s.x -=  5;				}				if (((d == "right") && s.x < 550 - s.height / 2))				{					s.x +=  5;				}			}			function movegunshot():void			{				if (gunshotBL == true)				{					b.y -=  15;					if (b.y < 0)					{						gunshotBL = false;						b.y = -500;					}					for (var i=0; i<aArray.length; i++)					{						if (b.hitTestObject(aArray[i]))						{							makegunshotExplode(i);							explosionBL = true;							explosionSound.play(0,1);							if (i<11)							{								score +=  3;							}							else if (i>10 && i<33)							{								score +=  2;							}							else							{								score +=  1;							}							t1.text = String("Score "+String(score));							t1.setTextFormat(tf1);							if (score%99 == 0)							{								restart();							}							break;						}					}				}			}			function makegunshotExplode(k: Number):void			{				e.x = aArray[k].x;				e.y = aArray[k].y;				e.width = 1;				e.height = 1;				growexplo();				b.x = -500;				gunshotBL = false;				aArray[k].y = -500;			}			function growexplo():void			{				e.width +=  20;				e.height +=  20;				if (e.width > 21)				{					e.x = -300;				}			}			function stopFun(c:Number):void			{				if ((c == 39))				{					dir = "stop";				}				if ((c == 37))				{					dir = "stop";				}			}			function keyFun(c:Number):void			{				if ((c == 39))				{					dir = "right";				}				if ((c == 37))				{					dir = "left";				}			}			function shootBullet(c:Number):void			{				if (((c == 32) && gunshotBL == false))				{					b.x = s.x;					b.y = s.y;					gunshotBL = true;					shotSound.play(0,1);				}			}			function makealiens():void			{				for (var j:Number = 0; j < 5; j++)				{					for (var i:Number = 0; i < 11; i++)					{						if ((j == 0))						{							var a:alienA = new alienA  ;							aArray.push(a);							addChild(aArray[aArray.length - 1]);						}						else if (((j == 1) || j == 2))						{							var b:alienB = new alienB  ;							aArray.push(b);							addChild(aArray[aArray.length - 1]);						}						else if (((j == 3) || j == 4))						{							var c:alien3 = new alien3  ;							aArray.push(c);							addChild(aArray[aArray.length - 1]);						}						aArray[aArray.length - 1].x = 30 * i + 600;						aArray[aArray.length - 1].x = 30 * j + 15;					}				}			}			// end of game			function gameover():void			{				for (i = 0; i < aArray.length; i++)				{					aArray[i].x = -3000;				}				s.y = -400;				addChild(t3);				t3.x = 275;				t3.y = 200;				t3.width = 200;				t3.text = "GAME OVER";				tf3.font = "Times New Roman";				tf3.size = 25;				tf3.bold = true;				tf3.color = 0xFFFFFF;				t3.setTextFormat(tf3);				playagain();			}			function restart():void			{				but.x = 275;				but.y = 300;				s.x = 275;				s.y = 350;				speed *=  2;								addChild(t4);				t4.x = 275;				t4.y = 275;				t4.width = 200;				t4.text = "Start next level";				tf4.font = "Times New Roman";				tf4.size = 25;				tf4.bold = true;				tf4.color = 0xFFFFFF;				t4.setTextFormat(tf4);				t4.visible = true;											}			function playagain():void			{				but.x = 275;				but.y = 300;				s.x = 275;				s.y = 350;				score = 0;				t1.text = String("Score "+String(score));				t1.setTextFormat(tf1);								addChild(t5);				t5.x = 275;				t5.y = 275;				t5.width = 200;				t5.text = "Play Again";				tf5.font = "Times New Roman";				tf5.size = 25;				tf5.bold = true;				tf5.color = 0xFFFFFF;				t5.setTextFormat(tf5);				t5.visible = true;			}						// *****************************		}	}}